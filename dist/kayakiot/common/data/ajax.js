!function(){var a,b,c,d;d={TIMEOUT:2e5},b={query:function(){var b,c,e,f;if(3==arguments.length)b=arguments[0],e="json",c=arguments[1],f=arguments[2];else{if(4!=arguments.length)return;b=arguments[0],e=arguments[1],c=arguments[2],f=arguments[3]}b=a.getUrl(b),c=c||{},c=a.decorateParam(c),$.ajax({url:b,dataType:"json",data:c,xhrFields:{withCredentials:!0},contentType:!1,type:"GET",cache:!1,timeout:d.TIMEOUT,success:function(b){"function"==typeof f&&a.callbackProxy(b,f)},error:function(){var b={code:"-1",result:"加载数据失败",data:{}};"function"==typeof f&&a.callbackProxy(b,f)}})},post:function(){var b,c,e,f;3==arguments.length&&(b=arguments[0],e="json",c=arguments[1],f=arguments[2],b=a.getUrl(b),c=c||{},c=a.decorateParam(c),$.ajax({url:b,dataType:"json",data:c,xhrFields:{withCredentials:!0},type:"POST",cache:!1,timeout:d.TIMEOUT,success:function(b){"function"==typeof f&&a.callbackProxy(b,f)},error:function(){var b={code:"-1",result:"加载数据失败",data:{}};"function"==typeof f&&a.callbackProxy(b,f)}}))},postFile:function(b){var d,e,f,g,h;if(3==arguments.length){d=c[arguments[0]],g="json",e=arguments[1].param,f=arguments[1].file,h=arguments[2],d=a.getUrl(d);var i=new FormData;i.append("file",f);for(var j in e)i.append(j,e[j]);$.ajax({url:d,type:"POST",data:i,xhrFields:{withCredentials:!0},contentType:!1,processData:!1,success:function(b){"function"==typeof h&&a.callbackProxy(b,h)},error:function(b){"function"==typeof h&&a.callbackProxy(b,h)}})}}},a={decorateParam:function(a){return a},callbackProxy:function(a,b){"function"==typeof b&&b(a)},getUrl:function(a){var b="";return a?b=a.indexOf("http://")>-1||a.indexOf("https://")>-1?a:c[a]:a}},define("kayakiot/common/data/ajax",function(require,a,d){c=require("kayakiot/config/apimix"),d.exports=$.extend(b,{EVT:c.EVT})})}();